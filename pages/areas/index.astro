---
import MainLayout from '~/layouts/MainLayout.astro';
import { absoluteUrl } from '~/lib/url';
import { listClusters } from '~/utils/geoHandler.js';

const clusters = listClusters();
const title = 'Service Areas â€“ Clusters';
const description = 'Browse our service coverage by region clusters and suburbs.';
---

<MainLayout title={title} description={description} canonical={absoluteUrl('/areas/')}>
  <section class="max-w-5xl mx-auto px-4 py-12">
    <h1 class="text-3xl md:text-4xl font-extrabold text-deep-navy mb-6">Service Areas</h1>
    <ul class="grid sm:grid-cols-2 lg:grid-cols-3 gap-4">
      {clusters.map(c => (
        <li>
          <a href={`/areas/${c.slug}/`} class="block bg-white p-5 rounded-xl shadow-sm border border-gray-warm-200 hover:shadow-lg hover:border-fresh-sky/60 transition">
            <span class="text-lg font-semibold text-deep-navy">{c.name}</span>
          </a>
        </li>
      ))}
    </ul>
  </section>
</MainLayout>

<script type="application/ld+json" set:html={JSON.stringify({
  "@context": "https://schema.org",
  "@type": "CollectionPage",
  "url": (import.meta.env.SITE ? new URL('/areas/', import.meta.env.SITE).toString() : '/areas/'),
  "name": "Service Areas"
})} />
